## 1.2 Routing Concepts

### 1.2.a Administrative distance

| Connected     | AD |
|---------------|----|
| Static        | 5   |
| EIGRP         |    |
| EIGRP Summary |    |
| OSPFv2        |    |
| OSPFv3        |    |
| eBGP          |    |
| iBGP          |    |
| RIPv2         |    |

### 1.2.b VRF-lite

* VRFs without MPLS 

### 1.2.c Static routing
### 1.2.d Policy Based Routing
### 1.2.e VRF aware routing with any routing protocol

* EIGRP 
  * IPv4 
  * IPv6 
* OSPFv2 
* OSPFv3 
  * IPv4
  * IPv6 
* BGP 
  * IPv4 
  * IPv6 

### 1.2.f Route filtering with any routing protocol

* EIGRP 
  * IPv4 
  * IPv6 
* OSPFv2 
* OSPFv3 
  * IPv4
  * IPv6 
* BGP 
  * IPv4 
  * IPv6 

### 1.2.g Manual summarization with any routing protocol

* EIGRP 
  * IPv4 
  * IPv6 
* OSPFv2 
* OSPFv3 
  * IPv4
  * IPv6 
* BGP 
  * IPv4 
  * IPv6 

### 1.2.h Redistribution between any pair of routing protocols

* Remember, the routes you want to redistirbute must be in the FIB from the routing protocol you're redistributing from. 
  * E.g., if you learn a route from OSPF and EIGRP, you will only redistirbute it if you're redistributing from EIGRP
* Route tag to avoid continual redistirbution 
* Use route-maps for control 
* IPv6 Specials 
  * include-connected: 
   * For IPv4 address families, connected interfaces that are running the routing process are redistributed into the other process. 
   * IPv6 does not do this by default, either use include-connected or redist conn separately 

* EIGRP 
  * From Static to EIGRP
  * From Connected to EIGRP
  * From EIGRP to EIGRP
  * From OSPFv2 to EIGRP
  * From OSPFv3 to EIGRP
  * From BGP to EIGRP
  * From RIPv2 to EIGRP
* OSPFv2 
  * From Static to OSPFv2
  * From Connected to OSPFv2
  * From EIGRP to OSPFv2
  * From OSPFv2 to OSPFv2
  * From OSPFv3 to OSPFv2
  * From BGP to OSPFv2
  * From RIPv2 to OSPFv2
  * From Static to OSPFv3
* OSPFv3 
  * From Connected to OSPFv3
  * From EIGRP to OSPFv3
  * From OSPFv2 to OSPFv3
  * From OSPFv3 to OSPFv3
  * From BGP to OSPFv3
  * From RIPv2 to OSPFv3
* BGP 
  * From Connected to BGP
      * Set all your attributes in your route-map, e.g., metric or local pref
      * `redist conn` with no route-map just redistributes everything 
      * Redistributed routes show up with first AS path of `?`
      * Configure:   
       
        ```
        ip prefix-list PL-ANY seq 5 permit 0.0.0.0/0 le 32
        ipv6 prefix-list PL6-ANY seq 5 permit ::/0 le 128
       
        route-map RM-CONN->BGP permit 10 
         match ip address prefix-list PL-ANY
         set metric 300
        route-map RM6-CONN->BGP permit 10 
         match ipv6 address prefix-list PL6-ANY
         set local-preference 150
       
        router bgp 65101
         address-family ipv4 unicast 
          redistribute connected route-map RM-BGP->CONN
         address-family ipv4 unicast 
          redistribute connected route-map RM6-BGP->CONN
        ```
      * Verify: 
        * `show bgp ipv4 unicast`
        * `show bgp ipv6 unicast`    
  * From Static to BGP
      * Configure:
        ``` 
        router bgp 65101
         address-family ipv4 unicast 
          redistribute static [ route-map NAME ]
         address-family ipv4 unicast 
          redistribute static [ route-map NAME ]
        ```        
    * Verify: 
      * `show bgp ipv4 unicast`
      * `show bgp ipv6 unicast`    
  * From EIGRP to BGP
    * BGP keeps the IGP metric as its metric in the BGP tables and transmits this to peers 
      * Remember, metric = MED 
    * Configure:
        ``` 
        router bgp 65101
         address-family ipv4 unicast 
          redistribute eigrp 100 [ route-map NAME ]
         address-family ipv4 unicast 
          redistribute eigrp 100 [ route-map NAME | include-connected ]
        ```        
    * Verify: 
      * `show bgp ipv4 unicast`
      * `show bgp ipv6 unicast`    
  
  * From OSPFv2 to BGP
    * No IPV6 support in OSPFv2
    * Make sure to use the match option appropriately. By default, without match, IOS will only redistribute internal routes (intra- and inter-area routes)
    * Match options: 
    	* internal
    	* external 1
    	* external 2 
    	* nssa-external 1
    	* nssa-external 2
    * Configure: 
      ```
      router bgp 65101 
       address-family ipv4 unicast
         redistribute ospf 100 [ match ] [ route-map]
      ```
    * Verify: 
      * `show bgp ipv4 uni`
      * `show bgp ipv6 uni`
  * From OSPFv3 to BGP
    * Configure:
    ```
    router bgp 65101 
       address-family ipv4 unicast
         redistribute ospfv3 101 [ match ] [ route-map]
       address-family ipv6 unicast
         redistribute ospf 101 [ include-connected] [match] [route-map] 
    ```
  * From BGP to BGP
    * Unlike other protocols, you can only run one instance of BGP per router 
    * For multi-VRF BGP, use vpnv4 address families (even without MPLS) to have different BGP process in different VRFs 
    * Use local-as to show up as a different AS to your neighbor other than your BGP process
    * If you need routes from one BGP VPN AF to another, use route-leaking 
  * From RIPv2 to BGP
    * Hopefully you never have to do this 
    ```
    router bgp 65101
     address-family ipv4 uni 
      redistribute rip [ route-map ]
     address-family ipv6 uni
      redistribute rip PROCESSNAME [ route-map | include-connected ]
    ```
* RIPv2 
  * From Static to RIPv2
  * From Connected to RIPv2
  * From EIGRP to RIPv2
  * From OSPFv2 to RIPv2
  * From OSPFv3 to RIPv2
  * From BGP to RIPv2
  * From RIPv2 to RIPv2



### 1.2.i Routing protocol authentication

* EIGRP 
* OSPF 
* BGP 

### 1.2.j Bidirectional Forwarding Detection
